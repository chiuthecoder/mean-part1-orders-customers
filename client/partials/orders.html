<div ng-controller="usersController">
<div ng-controller="productsController">	
	<div ng-controller="ordersController">

	  <h2>Add a new order</h2>
	  <form>
	  	<input type='hidden' ng-model='newOrder.created' value='date'>      
	    <div class='form-group'>
	      <label>Customer: </label>
	      <select class='form-control' ng-model='newOrder.name'>
	      	<option value="">--pick one--</option>
	        <option ng-repeat="user in users" ng-bind='user.name' value="{{user.name}}"></option>
	      </select>
	    </div>

	    <!--display order list-->
	    <div class="form-group" >
	      <label>Quantity: </label>
	      <input type='number' class='form-control'  min="1" max="15"  ng-model='newOrder.quantity'>
	    </div>

	    <!--display existing product list-->
	    <div class="form-group">
	      <select class='form-control' ng-model='newOrder.product'>
	      	<option value="">--pick one--</option>
	        <option ng-repeat="product in products" ng-bind='product.name' value="{{product.name}}"></option>
	      </select>   
	    </div>
	    <div class="form-group">
	    <input type='submit' value='Order' ng-click='addOrder()' class='text-right btn btn-bg btn-primary'>
	  </div>
	  </form>

	  <div class="pull-right form-group"><input class='form-control' type='text' ng-model='filter_name' placeholder='Search Customer...'></div>

	  <table class='table'>
	    <tr>
	      <th>Customer Name</th>
	      <th>Product</th>
	      <th>Quantity</th>
	      <th>Date</th>
	      <th>Action</th>
	    </tr>
	    <tr ng-repeat="order in orders | filter: filter_name  | orderBy: '-created' ">
	      <td ng-bind='order.name'></td>
	      <td ng-bind='order.product'></td>
	      <td ng-bind='order.quantity'></td>
	      <td ng-bind='order.created'></td>
	      <td><button ng-click='removeOrder(order._id)'>delete</button></td>
	    </tr>
	  </table>

	</div>
</div>
</div>